{% comment %}{% raw %}
+++++++++++++++++++++++++++++++++++++++++++++++++
Return parents for a page

page : a Page
minLevel : the minimum level of recursion in the page hierarchy
docs : an array of documents to dig in

{% include get-parents.html page=page minLevel=1 docs=documents %}
+++++++++++++++++++++++++++++++++++++++++++++++++
{% endraw %}{% endcomment %}

{% assign currentPage = include.page %}
{% assign minLevel    = include.minLevel %}
{% assign allDocs     = include.docs %}
{% assign pageLevel   = currentPage.dir | remove_first: "/" | split:"/" | size %}
{% assign parentLevel = pageLevel | minus: 1 %}
{% if parentLevel >= minLevel %}
    {% for p in allDocs %}
        {% assign pPageLevel = p.dir | remove_first: "/" | split:"/" | size %}
        {% if pPageLevel == parentLevel and currentPage.dir contains p.dir %}
            {% include get-parents.html page=p minLevel=minLevel docs=allDocs %}
            <p><a href="{{site.baseurl}}{{p.url}}">{{ p.title }}</a></p>
        {% endif %}
    {% endfor %}
{% endif %}